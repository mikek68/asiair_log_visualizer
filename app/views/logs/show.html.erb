<% content_for :head do %>
    <%= stylesheet_link_tag "https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.css" %>
    <%= javascript_include_tag "https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.js" %>
<% end %>

<div class="container text-center">
    <%= render partial: "logs/partials/log_file_info", locals: { log_file_id: @log_file.id, logs: @logs } %>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-4">
            <h5>Log Structure</h5>
            <pre><%= @ascii_tree %></pre>
        </div>
        <div class="col-md-8">
            <div id="log_gantt_chart" style='width:100%; height:800px;'></div>
        </div>
    </div>
</div>

<script>
    // It's generally good practice to ensure the DOM is ready for Gantt chart initialization,
    // especially if scripts are not at the very end of the body.
    // However, if this script tag remains at the end of the file, direct loading is often fine.
    // For robustness, especially with Turbo, a DOMContentLoaded or turbo:load event listener is better for Gantt initialization.
    // For now, keeping existing script placement.
    gantt.load("<%= log_data_path(@log_file.id, @log.id) %>");
</script>
